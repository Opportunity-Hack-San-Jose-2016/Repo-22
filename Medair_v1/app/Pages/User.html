<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Environmental Cloud Sensor</title>
    <link href="../BootStrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/navbar-fixed-top.css" rel="stylesheet"><!--Try and Remove-->
    <link href="../css/dashboard.css" rel="stylesheet"><!--Remove and Check-->
    <link href="../css/styles.css" rel="stylesheet">
    <!--Maps-->
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?"></script>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>

</head>

<body ng-app="CSwitch" ng-cloak onload="checkLoggedIn()">

<!--
Look for good themes online and implement them here.
Show no. of users and some nakli server reallocation depicting scalability multitenecy-->
<div class="header">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <!-- Logo -->
                <div class="logo">
                    <h1><a href="#">EnviSense Cloud Service</a></h1>
                </div>
            </div>
            <div class="col-md-5">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="input-group form">
                            <input type="text" class="form-control" placeholder="Search...">
	                       <span class="input-group-btn">
	                         <button class="btn btn-primary" type="button">Search</button>
	                       </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-2" id="logCheck" hidden>
                <div class="navbar navbar-inverse" role="banner">
                    <nav class="collapse navbar-collapse bs-navbar-collapse navbar-right" role="navigation">
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="" class="dropdown-toggle" data-toggle="dropdown">Account <b class="caret"></b></a>
                                <ul class="dropdown-menu animated fadeInUp">
                                    <li><a href="#Profile">Profile</a></li>
                                    <li><a href="#Subscription" >Subscriptions</a></li>
                                    <li><a onclick="deleteAllCookies()" href="Login.html">Logout</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>

            <div class="page-content" >
                <div class="row">
                    <div class="col-md-2"id="logCheck2" hidden>
                        <div class="sidebar content-box" style="display: block;">
                            <ul class="nav">
                                <!-- Main menu -->
                                <li class="current"><a href="#Dashboard"><i class="glyphicon glyphicon-dashboard "></i>
                                    Dashboard</a></li>
                                <li><a href="#Reports"><i class="glyphicon glyphicon-stats"></i> Reports
                                </a></li>
                                <li><a href="#SensorManager"><i class="glyphicon glyphicon-record "></i> Sensor
                                    Management</a></li><!--Change it to Subscribe and Unsubscribe -->
                                <li><a href="#Maps"><i class="glyphicon glyphicon-map-marker"></i> Location</a>
                                </li>
                                <li><a href="#Billing"><i class="glyphicon glyphicon-credit-card"></i> Billing</a></li>
                            </ul>


                        </div>

                    </div>
                    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-1 main">
                        <ng-view></ng-view>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="../bower_components/angular/angular.js"></script>
<script src="../bower_components/angular-route/angular-route.js"></script>
<script src="../bower_components/angular-cookies/angular-cookies.js"></script>
<script src="../bower_components/angular-animate/angular-animate.js"></script>
<script src="../js/Controllers/CSwitch.js"></script>
<script src="../js/Logout.js"></script>
<script src="../bower_components/ui-bootstrap-custom-build/ui-bootstrap-custom-tpls-1.3.2.js"></script>
<script src="../bower_components/ui-bootstrap-custom-build/ui-bootstrap-custom-tpls-1.3.2.min.js"></script>
<script src="../bower_components/ui-bootstrap-custom-build/ui-bootstrap-custom-1.3.2.js"></script>
<script src="../bower_components/ui-bootstrap-custom-build/ui-bootstrap-custom-1.3.2.min.js"></script>


<script type="text/javascript">
    angular.element(document.getElementsByTagName('head')).append(angular.element('<base href="' + window.location.pathname + '" />'));

    //Getting cookie
    function checkLoggedIn() {
        console.log(document.cookie);
        var name =  'loggedIn=';
        var ca = document.cookie.split(';');
        console.log(ca);
        if(ca[0].length==0){
            window.alert("Please Login/Sign Up to access our services");
            setTimeout(function(){location.href="Login.html"} , 2000);

        }
        for(var i = 0; i <ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') {
                c = c.substring(1);
            }
            console.log(c);
            if (c.indexOf(name) == 0) {
                if(c.substring(name.length,c.length)=='true'){
                    document.getElementById("logCheck").removeAttribute("hidden");
                    document.getElementById("logCheck2").removeAttribute("hidden");
                }else {
                    window.alert("Something went wrong, Please Try Logging In Again");
                    setTimeout(function () {
                        location.href = "Login.html"
                    }, 2000);
                }
            }
        }
        return "";
    }

    $(function() {
        $('a').click( function() {
            $(this).addClass('active').siblings().removeClass('active');
        });
    });
</script>
<!--For HighCharts-->
<script src="https://code.highcharts.com/highcharts.js"></script><!--Localize-->

<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="http://code.highcharts.com/highcharts-3d.js"></script><!--Localize-->
<style>
    #overlay {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.5) no-repeat 50% 50%;
    }

</style>
</body>

</html>